<hr />

<p>layout: post
title: &#8220;Paperclip - attachment validations&#8221;
date: 2010-01-28 14:07:00
comments: true
categories:
author:
&#8212;Using Paperclip, if you need to check if your model has an attachment, you don&#8217;t use the standard ActiveRecord validation helper i.e.;</p>

<p>1
validates_presence_of:logo</p>

<p>Erroneous!</p>

<p>Instead you use Paperclip&#8217;s helper</p>

<p>1
validates_attachment_presence:logo</p>

<p>But be sure to put that <strong>afteryour attachment definition</strong></p>

<p>12
has_attached_file:logovalidates_attachment_presence:logo</p>

<p>And if you&#8217;re doing something tricky, like allowing your model to be saved without an attachment first, but enforcing that an attachment is present on update then; </p>

<p>1
validates_attachment_presence:logo,:unless=>:new_record?</p>
