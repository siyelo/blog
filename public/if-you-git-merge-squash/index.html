
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Your git squash-merge is bad - Siyelo</title>
  <meta name="author" content="Siyelo">

  
  <meta name="description" content="&#8230; and you should feel bad. Commit early &amp; commit often is the way to go. Then squash your commits before they get merged to [master]. This &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://blog.siyelo.com/if-you-git-merge-squash">
  <link href="/favicon.ico" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="/javascripts/ender.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="/atom.xml" rel="alternate" title="Siyelo" type="application/atom+xml">
  <link href='http://fonts.googleapis.com/css?family=Open+Sans' rel='stylesheet' type='text/css'>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-6353020-5']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body id="blog"   >
  <header role="banner"><header id="header">
  <div class="wrapper">
    <h1 class="left" id="logo_alt">
      <a href="http://www.siyelo.com/"><img title="Siyelo" src="http://siyelo.com/images/logo_siyelo.png" alt="Siyelo logo"></a>
    </h1>
    <ul class="right horizontal" id="contact">
      <li><a href="mailto:info@siyelo.com" title="Email us - we want to hear from you">info@siyelo.com</a></li>
      <li>
      <p>+27 21 461 2050</p>
      </li>
    </ul>
    <nav class="right" id="main_nav">
    <ul class="horizontal">
      <li><a href="http://www.siyelo.com">Home</a></li>
      <li><a href="http://www.siyelo.com/services">Services</a></li>
      <li><a href="http://www.siyelo.com/projects">Projects</a></li>
      <li><a href="http://www.siyelo.com/team">Team</a></li>
      <li><a href="/" class="active">Blog</a></li>
    </ul>
    </nav>
  </div>
</header>

</header>
  <!-- <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:blog.siyelo.com" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav> -->
  <div class="wrapper multiclouds">
  <div id="articles">

    <article class="hentry" role="article" class="post clearfix">
      
  <header>
    















<section><time class="timestamp" datetime="2013-02-13T19:30:00+02:00" pubdate data-updated="true">
    <span class='day'> 13</span>
    <span class='month'> Feb</span>
    <span class='year'> 2013</span>
  </time></section>
    
      <h1 class="entry-title">Your Git Squash-merge Is Bad</h1>
    
    <!--  -->
    <!--   <p class="meta"> -->
    <!--      -->
    <!--      | <a href="#disqus_thread">Comments</a> -->
    <!--      -->
    <!--   </p> -->
    <!--  -->
  </header>


<div class="entry-content"><p>&#8230; and you should feel bad.</p>

<p>Commit early &amp; commit often is the way to go. Then squash your commits before they get merged to <code>[master]</code>. This is the gentlemanly thing to do.</p>

<p>With git, you can squash with an interactive rebase (<code>git rebase -i</code>), in which you squash your branch down to one (or two) commits. Alternatively you can use <code>git merge --squash</code> while merging the branch.</p>

<p>Having someone else merge your branch into <code>[master]</code> (unless you already paired with someone on the code) is good practice. It formalizes the code review step, and makes sure someone else is signing off on the code in case you did <a href="http://www.youtube.com/watch?v=pUJJ-mdd9pw&amp;feature=youtu.be&amp;t=1m45s">this</a>. (In a way it also makes you feel the pain of code reviews where you might be pairing!)</p>

<p>Both commit-squashing methods (interactive rebase or squash-merge) give you the major benefit of a cleaner <code>git log</code> and lots of warm and fuzzies. However if you follow the above process (like we do), an interactive rebase tends to work better than a squash-merge.</p>

<p>An interactive rebase means the <strong>author</strong> is responsible for making sure their branch history is clean <em>and will merge cleanly</em>. This is nice. As a committer I know I can press the big green &#8216;Merge Pull Request&#8217; button and shit won&#8217;t explode. Mostly.</p>

<p>A squash merge means the merger/committer is responsible for resolving any merge conflicts. If the committer is not the same person as the author, well, that code review just took even longer. And the Committer just rewrote history, perhaps not in a good way i.e. if someone else&#8217;s <strong>already squashed their branch</strong>, then a merge-squash is redundant and the committer will appear as the author of that merge commit. Oops.</p>

<p>To illustrate; The &#8216;before&#8217; shot below reveals a beautifully squashed branch (via interactive rebase), by our hero, the fearlesss yet considerate Author, whom we shall call &#8216;Glenn&#8217;. The &#8216;after&#8217; shot shows the aftermath of a squash-merge on that same branch, by the villianous Committer, The Glory Hunter;</p>

<p><em>Before:</em></p>

<p><img src="http://i.imgur.com/4xWxJTi.png" alt="Before merge" /></p>

<p><em>After:</em></p>

<p><img src="http://i.imgur.com/V0E8eUM.png" alt="After bad squash" /></p>

<p>Oh well, at least The Glory Hunter will show up in the git-blame if anything goes awry. Merge-squash away!</p>
</div>


      <footer>

        <div class="meta-data">
          















<section><time class="timestamp" datetime="2013-02-13T19:30:00+02:00" pubdate data-updated="true">
    <span class='day'> 13</span>
    <span class='month'> Feb</span>
    <span class='year'> 2013</span>
  </time></section>
          
  

<p class="meta"><span class="byline author vcard">Posted by <span class="fn">Glenn Roberts</span></span></p>

          <span> in </span>
          



          
            <div class="sharing right">
  
  <a href="http://twitter.com/share" class="twitter-share-button" data-url="http://blog.siyelo.com/if-you-git-merge-squash" data-via="siyelo" data-counturl="http://blog.siyelo.com/if-you-git-merge-squash" >Tweet</a>
  
  
  
</div>

          
        </div>

        <p class="meta pagination">
          
            <a class="basic-alignment left" href="/weekly-roundup-12" title="Previous Post: Rails security; Being the best newbie & Redesigning Google">Previous</a>
          
          
            <a class="basic-alignment right" href="/abstracting-a-service" title="Next Post: Abstracting a Service">Next</a>
          
        </p>

      </footer>
    </article>

    
      <section class="comments">
        <div id="disqus_thread" aria-live="polite"><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
      </section>
    
  </div>

  
  <aside class="sidebar">
    
      <section>
  <h1>About</h1>
  <ul id="about">
    <li>
      <p>Siyelo is a web development consultancy based in South Africa
      and Macedonia. We create bespoke web and mobile apps. Interested
      in working with us? <a href='mailto:info@siyelo.com'>Contact us</a>
      anytime.</p>
    </li>
  </ul>
</section>
<section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/abstracting-a-service">Abstracting a Service</a>
      </li>
    
      <li class="post">
        <a href="/if-you-git-merge-squash">Your git squash-merge is bad</a>
      </li>
    
      <li class="post">
        <a href="/weekly-roundup-12">Rails security; Being the best newbie & Redesigning Google</a>
      </li>
    
      <li class="post">
        <a href="/weekly-roundup-11">TL;DR - Bacon Pancakes, Dynamic attributes & MongoDB and Now I Know</a>
      </li>
    
      <li class="post">
        <a href="/rails-security-vulnerabilities">Rails Security Vulnerabilities</a>
      </li>
    
  </ul>
</section>

<section>
  <h1>GitHub Repos</h1>
  <ul id="gh_repos">
    <li class="loading">Status updating...</li>
  </ul>
  
  <p class="on-github"><a href="https://github.com/siyelo">@siyelo</a> on GitHub</p>
  
  <script type="text/javascript">
    $.domReady(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'siyelo',
            count: 3,
            skip_forks: true,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>


<section>
  <h1>Latest Tweets</h1>
  <ul id="tweets">
    <li class="loading">Status updating...</li>
  </ul>
  <script type="text/javascript">
    $.domReady(function(){
      getTwitterFeed("siyelo", 3, false);
    });
  </script>
  <script src="/javascripts/twitter.js" type="text/javascript"> </script>
  
    <a href="http://twitter.com/siyelo" class="twitter-follow-button" data-show-count="false">Follow @siyelo</a>
  
</section>





    
  </aside>
  
</div>

  <footer role="contentinfo"><footer id="footer">
    <div class="wrapper">
      <ul class="clearfix">
        <li class="fourth">
          <a title="Email us - we want to hear from you" class="marker" href="mailto:info@siyelo.com">@</a>
          <span>Contact</span>
          <ul>
            <li>phone</li>
            <li>+27214612050</li>
            <li>email:</li>
            <li>
              <a title="Email us - we want to hear from you" href="mailto:info@siyelo.com">info@siyelo.com</a>
            </li>
          </ul>
        </li>
        <li class="fourth">
          <a title="Siyelo office in Cape Town" class="marker" target="_blank" href="http://g.co/maps/7xbpg">A</a>
          <span>Cape Town</span>
          <ul>
            <li>Suite #1, 4th Floor</li>
            <li>79 Roeland Street</li>
            <li>Cape Town, 8001</li>
            <li>South Africa</li>
          </ul>
        </li>
        <li class="fourth">
          <a title="Siyelo office in Skopje" class="marker" target="_blank" href="http://g.co/maps/ssf42">B</a>
          <span>Skopje</span>
          <ul>
            <li>Suite #5, 1st Floor</li>
            <li>Marx &amp; Engels 7</li>
            <li>Skopje</li>
            <li>Macedonia</li>
          </ul>
        </li>
        <li class="fourth social">
          <a title="Siyelo on Twitter" href="http://twitter.com/#!/siyelo"><img alt="Siyelo on Twitter" src="http://siyelo.com/images/icons/twitter.png"></a>
          <a title="Siyelo on Github" href="http://github.com/siyelo"><img alt="Siyelo on Github" src="http://siyelo.com/images/icons/github.png"></a>
          <a title="Siyelo blog RSS feed" href="http://blog.siyelo.com/rss.xml"><img alt="Siyelo blog RSS feed" src="http://siyelo.com/images/icons/rss.png"></a>
        </li>
      </ul>
      <aside>
        <a class="left back_to_top" href="#header">Back to top</a>
        <div class="right">
          <a title="Creative Commons - some rights reserved" href="http://creativecommons.org/licenses/by-nc-sa/3.0/"><img alt="Creative Commons License" src="http://i.creativecommons.org/l/by-nc-sa/3.0/80x15.png"></a>
        </div>
      </aside>
    </div>
  </footer>
</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'siyelo';
      
        
        // var disqus_developer = 1;
        var disqus_identifier = 'http://blog.siyelo.com/if-you-git-merge-squash';
        var disqus_url = 'http://blog.siyelo.com/if-you-git-merge-squash';
        var disqus_script = 'embed.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
