---
layout: post
title: "Rails 2.3/Devise : changing your email content type."
date: 2010-02-18 14:26:00
comments: true
categories:
author: 
---


    <p>Devise is a great rails authentication solution, with a very active mailing list and team of contributors. Given its modular, pluggable design, simple installation, I predict it will become the "standard" authentication module, (assuming someone steps up to the plate for MongoMapper/DataMapper support for Rails 3, anyone?). <p /> A minor issue on Rails 2.3 is that Devise (v1.0) doesn't allow you to override the content_type of the emails it sends. (I believe its fixed for Rails 3.0). Given the content type defaults to 'text/html', unless you like to cause yourself (and your users) some grief with html emails, and plain text emails will suffice, then read on. <p /> I've patched Devise 1.0 to enable you to override this default behaviour in your config/initializers/devise.rb file</p>
<p>UPDATE: Its been merged into Devise v1.0.2 <a href="http://github.com/plataformatec/devise/commit/23568bda82d04062615b79570949ed4ff18b039d">http://github.com/plataformatec/devise/commit/23568bda82d04062615b79570949ed4...</a></p>
<p><div class="data type-text">
      <table class="lines" cellspacing="0" cellpadding="0">
        <tr>
          <td>
            <pre class="line_numbers"><span id="L1">1</span>
<span id="L2">2</span>
<span id="L3">3</span>
</pre>
          </td>
          <td width="100%">
                <div class="highlight"><pre /><div class="line" id="LC1">&nbsp;&nbsp;Devise.setup do |config|</div><div class="line" id="LC2">&nbsp;&nbsp;&nbsp;&nbsp;...</div><div class="line" id="LC3">&nbsp;&nbsp;&nbsp;&nbsp;config.mailer_content_type = &#039;text/plain&#039;</div></pre></div>
          </td>
        </tr>
      </table>
  </div><p /> The gem on gemcutter <p /> <div class="data type-text">
      <table class="lines" cellspacing="0" cellpadding="0">
        <tr>
          <td>
            <pre class="line_numbers"><span id="L1">1</span>
<span id="L2">2</span>
<span id="L3">3</span>
</pre>
          </td>
          <td width="100%">
                <div class="highlight"><pre /><div class="line" id="LC1">&nbsp;&nbsp;gem install glennr-devise</div><div class="line" id="LC2">&nbsp;&nbsp;or</div><div class="line" id="LC3">&nbsp;&nbsp;config.gem &#039;glennr-devise&#039;, :lib =&gt; &#039;devise&#039;, :source =&gt; &#039;http://gemcutter.org&#039;</div></pre></div>
          </td>
        </tr>
      </table>
  </div><p /> The github branch is here, and should be merged into the Devise trunk shortly: <a href="http://github.com/glennr/devise">http://github.com/glennr/devise</a></p>
  
